
文档中心
请输入关键字
搜索历史
即梦ai
智能视觉
视频编辑
热门搜索
扣子
火山方舟
豆包大模型
语音合成
云服务器
文档
备案
控制台
z
zhaoweibo.0820 / eps_yxd_group
账号管理
账号ID : 2108323502
联邦登陆
企业认证
费用中心
可用余额¥ 0.00
充值汇款
账户总览
账单详情
费用分析
发票管理
权限与安全
安全设置
访问控制
操作审计
API 访问密钥
工具与其他
公测申请
资源管理
配额中心
伙伴控制台
待办事项
待支付
0
待续费
0
待处理工单
0
未读消息
0
对象存储
文档首页
/
对象存储
/
API 参考
/
签名机制
/
URL 中包含签名
在本产品文档中搜索
URL 中包含签名
最近更新时间：2025.03.24 17:06:20
首次发布时间：2022.08.08 17:38:46
我的收藏
有用
无用
您可以在 URL 的查询参数中增加签名信息。该 URL 中包含 AK、有效期、资源、操作、签名等信息，任何使用该 URL 的人在有效期内都可以执行该 URL 对应的操作。这种方法称作预签名。

预签名 URL 格式
https://bucketname.tos-cn-beijing.volces.com/object
?X-Tos-Algorithm=TOS4-HMAC-SHA256
&X-Tos-Credential=<access-key-id>/<YYYYMMDD>/<region>/tos/request
&X-Tos-Date=20130721T201207Z
&X-Tos-Expires=86400
&X-Tos-SignedHeaders=host
&X-Tos-Signature=<signature> 
&X-Tos-Security-Token=<security-token>

参数说明
参数

描述

是否必选

X-Tos-Algorithm

用于标记签名的版本及算法，当前只支持 TOS4-HMAC-SHA256。

是

X-Tos-Credential

提供 AccessKey ID、日期，区域和服务信息。 格式为<acces-key-id>/<date>/<region>/tos/request，date格式为yyyyMMdd。

是

X-Tos-Date

当前请求时间（UTC 时间），格式为yyyyMMddTHHmmssZ。

是

X-Tos-Expires

该 URL 的有效期，单位为秒。该值为整数，最小为 1，最大为 2592000（30 天），即签名有效期最长为 30 天。

是

X-Tos-SignedHeaders

列出用于计算签名的 Header，说明如下：

必须包含 host 头域。
必须包含所有 x-tos-\* 的头域。
是

X-Tos-Signature

计算出的签名。

X-Tos-Security-Token

使用临时 AK/SK 鉴权时，必须加上该头域，值为SecurityToken。

否


签名计算
URL 计算签名方式与 Header 签名，除了构造规范化请求（CanonicalRequest）上有所差异，其他流程都是相同的，差异点如下：

在创建预签名 URL 时，由于请求的内容未知，需要使用 UNSIGNED-PAYLOAD 代替 HashedPayload。
CanonicalQueryString 中不包含 X-Tos-Signature 参数。
使用临时 AK/SK 鉴权时，必须带上 X-Tos-Security-Token 参数。

预签名 URL 示例
以下载对象为例，相关信息如下。

参数

值

桶名

examplebucket

对象名

exampleobject

区域

cn-beijing

时间

Sat, 1 Jan 2022 00:00:00 GMT

AccessKeyId

testAK

SecretAccessKey

testSK


CanonicalRequest
GET
/exampleobject
X-Tos-Algorithm=TOS4-HMAC-SHA256&X-Tos-Credential=testAK%2F20220101%2Fcn-beijing%2Ftos%2Frequest&X-Tos-Date=20220101T000000Z&X-Tos-Expires=86400&X-Tos-SignedHeaders=host
host:examplebucket.tos-cn-beijing.volces.com

host
UNSIGNED-PAYLOAD

StringToSign
TOS4-HMAC-SHA256
20220101T000000Z
20220101/cn-beijing/tos/request
b0cda3030fc2db31d57af22c2a7ab4229434edff63f0982db8a3fb99b190677d

SigningKey
HMAC-SHA256(HMAC-SHA256(HMAC-SHA256(HMAC-SHA256("testSK", "20220101"), "cn-beijing"), "tos"), "request")

Signture
353aa55583eceb222aad4bdcb70d4045a202a4af9a3096f25a656b82c8ec2f56

预签名 URL
https://examplebucket.tos-cn-beijing.volces.com/exampleobject?X-Tos-Algorithm=TOS4-HMAC-SHA256&X-Tos-Credential=testAK%2F20220101%2Fcn-beijing%2Ftos%2Frequest&X-Tos-Date=20220101T000000Z&X-Tos-Expires=86400&X-Tos-SignedHeaders=host&X-Tos-Signature=353aa55583eceb222aad4bdcb70d4045a202a4af9a3096f25a656b82c8ec2f56
上一篇
多分块上传带 Trailing Header 的签名机制
下一篇
携带查询参数 X-Tos-Policy 的 URL 预签名
预签名 URL 格式
参数说明
签名计算
预签名 URL 示例
CanonicalRequest
StringToSign
SigningKey
Signture
预签名 URL
鼠标选中内容，快速反馈问题
选中存在疑惑的内容，即可快速反馈问题，我们将会跟进处理
不再提示
好的，知道了

全天候售后服务
7x24小时专业工程师品质服务

极速服务应答
秒级应答为业务保驾护航

客户价值为先
从服务价值到创造客户价值

全方位安全保障
打造一朵“透明可信”的云
logo
关于我们
为什么选火山
文档中心
联系我们
人才招聘
云信任中心
友情链接
产品
云服务器
GPU云服务器
机器学习平台
客户数据平台 VeCDP
飞连
视频直播
全部产品
解决方案
汽车行业
金融行业
文娱行业
医疗健康行业
传媒行业
智慧文旅
大消费
服务与支持
备案服务
服务咨询
建议与反馈
廉洁舞弊举报
举报平台
联系我们
业务咨询：service@volcengine.com
市场合作：marketing@volcengine.com
电话：400-850-0030
地址：北京市海淀区北三环西路甲18号院大钟寺广场1号楼

微信公众号

抖音号

视频号
© 北京火山引擎科技有限公司 2025 版权所有
代理域名注册服务机构：新网数码 商中在线
服务条款
隐私政策
更多协议

京公网安备11010802032137号
京ICP备20018813号-3
营业执照
增值电信业务经营许可证京B2-20202418，A2.B1.B2-20202637
网络文化经营许可证：京网文（2023）4872-140号