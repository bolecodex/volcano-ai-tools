# 前端配置管理使用指南

## 功能概述

系统配置管理页面提供了一个可视化界面，用于管理火山方舟、火山引擎和TOS等第三方服务的配置信息。

## 访问权限

**重要：** 系统配置页面仅对已登录用户显示。

- ✅ 登录用户：可以在导航栏看到"系统配置"菜单项
- ❌ 未登录用户：看不到"系统配置"菜单项

## 功能特性

### 1. 配置分类管理

系统配置按照分类进行组织：

- **全部** - 显示所有配置
- **火山方舟** - 火山方舟相关配置
- **火山引擎** - 火山引擎AK/SK等配置
- **TOS存储** - TOS存储桶相关配置
- **通用配置** - 其他通用配置

### 2. 配置列表展示

配置列表以表格形式展示，包含以下信息：

- **配置键** - 配置的唯一标识符，带有加密标记🔒
- **配置值** - 配置的实际值（敏感信息显示为******）
- **类型** - string/token/key/json
- **分类** - 所属分类
- **描述** - 配置用途说明
- **状态** - 启用/禁用
- **操作** - 编辑/删除按钮

### 3. 创建新配置

点击右上角"➕ 新建配置"按钮，填写以下信息：

- **配置键名** * (必填) - 唯一标识符，创建后不可修改
- **配置值** - 配置的实际值
- **配置类型** - 选择：字符串/Token/密钥/JSON
- **分类** - 选择：火山方舟/火山引擎/TOS存储/通用配置
- **描述** - 配置用途说明
- **🔒 加密存储** - 标记为敏感信息
- **✅ 启用此配置** - 是否启用

### 4. 编辑配置

点击配置行的"编辑"按钮可以修改配置：

- 配置键名不可修改
- 可以修改配置值、类型、分类、描述等其他字段
- 可以切换加密标记和启用状态

### 5. 删除配置

点击"删除"按钮后会弹出确认对话框，确认后删除配置。

**注意：** 删除操作不可恢复，请谨慎操作。

## 使用流程

### 步骤1：登录系统

```
1. 点击导航栏"登录"
2. 输入用户名和密码
3. 登录成功后，导航栏会显示"系统配置"菜单
```

### 步骤2：访问配置管理

```
1. 点击导航栏的"系统配置"
2. 页面会显示配置管理界面
3. 默认显示"全部"分类的配置
```

### 步骤3：创建配置

```
1. 点击右上角"➕ 新建配置"按钮
2. 填写配置信息
3. 点击"保存"按钮
4. 配置创建成功后会显示在列表中
```

### 步骤4：管理配置

```
1. 切换分类标签查看不同类型的配置
2. 点击"编辑"修改配置值
3. 点击"删除"移除配置
```

## 界面说明

### 顶部操作栏

- **标题区域** - 显示"🔧 系统配置管理"
- **新建按钮** - 创建新配置

### 分类标签

- 彩色徽章显示不同分类
- 点击切换查看不同分类的配置
- 自动计数每个分类的配置数量

### 配置列表

- 响应式表格设计，自适应屏幕大小
- 鼠标悬停行会高亮显示
- 支持分页（后续可扩展）

### 创建/编辑对话框

- 渐变色标题栏
- 表单字段带有说明文字
- 实时表单验证
- 保存状态提示

## 配置示例

### 示例1：添加火山方舟Token

```
配置键名: volcano_ark_token
配置值: your-ark-token-here
配置类型: Token
分类: 火山方舟
描述: 火山方舟API访问令牌
加密存储: ☐ (不勾选，Token通常不需要加密)
启用此配置: ☑
```

### 示例2：添加火山引擎SK

```
配置键名: volcano_engine_secret_key
配置值: your-secret-key
配置类型: 密钥
分类: 火山引擎
描述: 火山引擎私密密钥SK
加密存储: ☑ (勾选，SK是敏感信息)
启用此配置: ☑
```

### 示例3：添加TOS桶配置

```
配置键名: tos_bucket_name
配置值: my-tos-bucket
配置类型: 字符串
分类: TOS存储
描述: TOS存储桶名称
加密存储: ☐
启用此配置: ☑
```

## 界面特色

### 视觉设计

- **渐变色标题** - 紫色到粉色的渐变背景
- **彩色分类徽章** - 不同分类使用不同颜色
- **代码样式显示** - 配置键以代码格式显示
- **响应式布局** - 完美适配PC、平板、手机

### 交互体验

- **平滑动画** - 按钮悬停、行高亮等动画效果
- **即时反馈** - 操作成功/失败立即提示
- **确认对话** - 删除操作需要二次确认
- **加载状态** - 显示加载动画，提升体验

### 安全特性

- **敏感信息保护** - 加密标记的配置值显示为******
- **权限控制** - 未登录用户无法访问
- **二次确认** - 删除操作需要确认

## 键盘快捷键

- **ESC** - 关闭对话框
- **Enter** - 提交表单（在输入框中）

## 常见问题

### Q: 为什么我看不到"系统配置"菜单？

A: 请确保已登录。系统配置功能仅对登录用户开放。

### Q: 配置值为什么显示为******？

A: 这是标记为"加密存储"的配置，为了安全考虑，配置值在列表中不会明文显示。

### Q: 可以批量导入配置吗？

A: 当前版本暂不支持批量导入，可以联系管理员使用后端脚本批量导入。

### Q: 删除的配置可以恢复吗？

A: 不可以。删除操作是永久性的，请谨慎操作。建议删除前先备份重要配置。

### Q: 配置修改后多久生效？

A: 配置修改后立即保存到数据库，但应用程序可能需要重启才能读取新配置。

## 技术说明

### 组件结构

```
SystemConfig.js
├── State Management (useState, useEffect)
├── API Integration (axios)
├── Config List Display (Table)
├── Create/Edit Modal (Form)
└── Category Tabs (Tabs)
```

### API调用

- `GET /api/configs/` - 获取所有配置
- `GET /api/configs/category/{category}` - 按分类获取
- `POST /api/configs/` - 创建配置
- `PUT /api/configs/{id}` - 更新配置
- `DELETE /api/configs/{id}` - 删除配置

### 样式规范

所有样式类名都使用`SystemConfig-`前缀，遵循组件化CSS命名规范：

- `SystemConfig-container` - 容器
- `SystemConfig-card` - 卡片
- `SystemConfig-header` - 标题栏
- `SystemConfig-table` - 表格
- 等等...

## 浏览器兼容性

- ✅ Chrome 90+
- ✅ Firefox 88+
- ✅ Safari 14+
- ✅ Edge 90+

## 移动端支持

界面完全响应式，支持移动设备访问：

- 📱 手机：优化的触摸交互
- 📱 平板：自适应布局
- 💻 桌面：完整功能展示

